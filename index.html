<!DOCTYPE html> 
<html>
  <head>
    <meta charset="utf-8" />
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>

    <!-- Composant : fait apparaître un objet GLB -->
    <script>
      AFRAME.registerComponent("spawn-objet", {
        schema: {
          model: {type: "string"},
          position: {type: "string"},
          scale: {type: "string"}
        },

        init: function () {
          const obj = document.createElement("a-entity");

          obj.setAttribute("gltf-model", this.data.model);
          obj.setAttribute("position", this.data.position || "0 1 -3");
          obj.setAttribute("scale", this.data.scale || "1 1 1");

          this.el.appendChild(obj);
        }
      });
    </script>
  </head>

  <body>
    <a-scene>

      <!-- ASSETS -->
      <a-assets>
        <!-- Mets ici ton fichier GLB -->
        <a-asset-item id="monGLB" src="assets/door.glb"></a-asset-item>

        <!-- Texture optionnelle pour les murs -->
        <img id="murTex" src="https://cdn.aframe.io/a-painter/images/floor.jpg">
      </a-assets>

      <!-- Caméra -->
      <a-entity camera wasd-controls look-controls position="0 1.6 2"></a-entity>

      <!-- Couloir -->
      <a-box position="0 0 0" width="4" height="0.1" depth="60" color="#666"></a-box>
      <a-box position="0 3 0" width="4" height="0.1" depth="60" color="#555"></a-box>

      <a-box position="-2 1.5 0" width="0.1" height="3" depth="60" src="#murTex"></a-box>
      <a-box position=" 2 1.5 0" width="0.1" height="3" depth="60" src="#murTex"></a-box>

      <a-box position="0 1.5 -30" width="4" height="3" depth="0.1" color="#222"></a-box>


      <!-- L’objet GLB apparaît ici dans le couloir -->
      <a-entity spawn-objet="model: #monGLB; position: 0 1 -10; scale: 1 1 1"></a-entity>

    </a-scene>
  </body>
</html>
